const DB = [
  {
    id: "0",
    0: 0,
    1: 4,
    2: 5,
    3: 2,
    4: 4,
    5: 9,
    6: 5,
    7: 5,
    8: 6,
    9: 7,
    10: 2,
    11: 1,
    12: 5,
    13: 3,
    14: 8,
    15: 3,
    16: 8,
  },
  {
    id: "1",
    0: 4,
    1: 0,
    2: 3,
    3: 3,
    4: 8,
    5: 5,
    6: 1,
    7: 9,
    8: 3,
    9: 4,
    10: 6,
    11: 4,
    12: 2,
    13: 8,
    14: 1,
    15: 8,
    16: 4,
  },
  {
    id: "2",
    0: 5,
    1: 3,
    2: 0,
    3: 1,
    4: 2,
    5: 3,
    6: 4,
    7: 5,
    8: 6,
    9: 7,
    10: 8,
    11: 9,
    12: 3,
    13: 6,
    14: 7,
    15: 5,
    16: 1,
  },
  {
    id: "3",
    0: 2,
    1: 3,
    2: 1,
    3: 0,
    4: 1,
    5: 4,
    6: 3,
    7: 7,
    8: 5,
    9: 6,
    10: 7,
    11: 8,
    12: 2,
    13: 5,
    14: 9,
    15: 2,
    16: 6,
  },
  {
    id: "4",
    0: 4,
    1: 8,
    2: 2,
    3: 1,
    4: 0,
    5: 5,
    6: 6,
    7: 6,
    8: 1,
    9: 5,
    10: 3,
    11: 3,
    12: 9,
    13: 2,
    14: 3,
    15: 1,
    16: 2,
  },
  {
    id: "5",
    0: 9,
    1: 5,
    2: 3,
    3: 4,
    4: 5,
    5: 0,
    6: 7,
    7: 3,
    8: 2,
    9: 6,
    10: 7,
    11: 5,
    12: 3,
    13: 1,
    14: 6,
    15: 3,
    16: 4,
  },
  {
    id: "6",
    0: 5,
    1: 1,
    2: 4,
    3: 3,
    4: 6,
    5: 7,
    6: 0,
    7: 1,
    8: 4,
    9: 8,
    10: 9,
    11: 5,
    12: 2,
    13: 4,
    14: 3,
    15: 2,
    16: 4,
  },
  {
    id: "7",
    0: 5,
    1: 9,
    2: 5,
    3: 7,
    4: 6,
    5: 3,
    6: 1,
    7: 0,
    8: 7,
    9: 1,
    10: 5,
    11: 4,
    12: 7,
    13: 8,
    14: 7,
    15: 4,
    16: 3,
  },

  {
    id: "8",
    0: 6,
    1: 3,
    2: 6,
    3: 5,
    4: 1,
    5: 2,
    6: 4,
    7: 7,
    8: 0,
    9: 6,
    10: 4,
    11: 6,
    12: 4,
    13: 2,
    14: 3,
    15: 6,
    16: 3,
  },

  {
    id: "9",
    0: 7,
    1: 4,
    2: 7,
    3: 6,
    4: 5,
    5: 6,
    6: 8,
    7: 1,
    8: 6,
    9: 0,
    10: 9,
    11: 1,
    12: 5,
    13: 1,
    14: 2,
    15: 8,
    16: 5,
  },

  {
    id: "10",
    0: 2,
    1: 6,
    2: 8,
    3: 7,
    4: 3,
    5: 7,
    6: 9,
    7: 5,
    8: 4,
    9: 9,
    10: 0,
    11: 2,
    12: 1,
    13: 7,
    14: 2,
    15: 7,
    16: 4,
  },
  {
    id: "11",
    0: 1,
    1: 4,
    2: 9,
    3: 8,
    4: 3,
    5: 5,
    6: 5,
    7: 4,
    8: 6,
    9: 1,
    10: 2,
    11: 0,
    12: 6,
    13: 5,
    14: 3,
    15: 9,
    16: 7,
  },
  {
    id: "12",
    0: 5,
    1: 2,
    2: 3,
    3: 2,
    4: 9,
    5: 3,
    6: 2,
    7: 7,
    8: 4,
    9: 5,
    10: 1,
    11: 6,
    12: 0,
    13: 4,
    14: 4,
    15: 7,
    16: 9,
  },
  {
    id: "13",
    0: 3,
    1: 8,
    2: 6,
    3: 5,
    4: 2,
    5: 1,
    6: 4,
    7: 8,
    8: 2,
    9: 1,
    10: 7,
    11: 5,
    12: 4,
    13: 0,
    14: 6,
    15: 4,
    16: 2,
  },
  {
    id: "14",
    0: 8,
    1: 1,
    2: 7,
    3: 9,
    4: 3,
    5: 6,
    6: 3,
    7: 7,
    8: 3,
    9: 2,
    10: 2,
    11: 3,
    12: 4,
    13: 6,
    14: 0,
    15: 6,
    16: 1,
  },
  {
    id: "15",
    0: 3,
    1: 8,
    2: 5,
    3: 2,
    4: 1,
    5: 3,
    6: 2,
    7: 4,
    8: 6,
    9: 8,
    10: 7,
    11: 9,
    12: 7,
    13: 4,
    14: 6,
    15: 0,
    16: 8,
  },

  {
    id: "16",
    0: 8,
    1: 4,
    2: 1,
    3: 6,
    4: 2,
    5: 4,
    6: 4,
    7: 3,
    8: 3,
    9: 5,
    10: 4,
    11: 7,
    12: 9,
    13: 2,
    14: 1,
    15: 8,
    16: 0,
  },
];
const CP = [
  {
    id: "0",
    Weight: 6,
  },
  {
    ID: "1",
    Weight: 7,
  },
  {
    ID: "2",
    Weight: 3,
  },
  {
    id: "3",
    Weight: 4,
  },
  {
    id: "4",
    Weight: 4,
  },
  {
    id: "5",
    Weight: 8,
  },
  {
    id: "6",
    Weight: 6,
  },
  {
    id: "7",
    Weight: 5,
  },
  {
    id: "8",
    Weight: 1,
  },
  {
    id: "9",
    Weight: 2,
  },
  {
    id: "10",
    Weight: 9,
  },
  {
    id: "11",
    Weight: 3,
  },
  {
    id: "12",
    Weight: 8,
  },
  {
    id: "13",
    Weight: 6,
  },
  {
    id: "14",
    Weight: 2,
  },
  {
    id: "15",
    Weight: 7,
  },
  {
    id: "16",
    Weight: 4,
  },
];

const timkiem = (i, ROUTEMAP, S, CPD) => {
  //tim gia tri nho nhat//
  const KKO = DB.map((x) => x[i]);
  console.log("KKO", KKO);
  for (i = 0; i < ROUTEMAP.length; i++) {
    KKO[ROUTEMAP[i]] = 0;
  }

  console.log("mang gia tri can so sanh", KKO);
  const reducer = (accumulator, currentValue) => {
    if (accumulator > currentValue && currentValue !== 0) {
      return currentValue;
    }
    return accumulator;
  };
  let Min = KKO.reduce(reducer, Number.MAX_VALUE);
  console.log("Min", Min);
  S.push(Min);
  console.log("S+ooooo", S);
  let ID = KKO.indexOf(Min);
  return ID;
};
let ArrayID = DB.map((x) => x.id);
let CACTUYENDUONG = [];
console.log("ArrayID", ArrayID);
let ROUTEMAP = [0];
let i = 0;
let count = 0;
let S = [];
let CPD = [];
let CAP = 0;
let CAPTUYENDUONG = [];

const reducer = (accumulator, currentValue) => accumulator + currentValue;
while (i >= 0 && count < DB.length - 1) {
  console.log("i", i);
  console.log(ArrayID);

  const ID = timkiem(i, ROUTEMAP, S);
  console.log("iD", ID);
  if (count === DB.length - 1 || CAP > 30) {
    /*  console.log("dsadada",DB.map(x=>x[ID])[0]); */
    console.log("count", count);
    S.push(DB.map((x) => x[ID])[0]);
    console.log("CPD", CPD.pop());
    console.log("CPD nhe", CPD);
    CACTUYENDUONG.push(ROUTEMAP);
    CAP = CPD.reduce(reducer);
    console.log("CPD", CAP);
    CAPTUYENDUONG.push(CAP);
    console.log("CAPTUYENDUONGdsadadasd", CAPTUYENDUONG);
    console.log(S.reduce(reducer));
    ROUTEMAP.push(0);
    /*      ROUTEMAP = [0]; */
    CAP = 0;
    CPD = [];
    i = 0;
    /*     CAP=CPD.reduce(reducer);
          console.log(ROUTEMAP);
          console.log("CPD",CAP);
          console.log(S.reduce(reducer)); */
    /*     break; */
  }
  console.log("dddd", count);
  ROUTEMAP.push(ID);
  console.log(ROUTEMAP);
  let CPDT = CP[ID].Weight;
  CPD.push(CPDT);
  console.log(CPDT);
  console.log(CPD);

  console.log("i+1", i);
  CAP = CPD.reduce(reducer);
  console.log("CPD", CAP);

  /* console.log("CPD",CPD.reduce(reducer)); */

  console.log("Siii", S);
  console.log("S", S.reduce(reducer));
  count++;
  i = ID;
}
CAP = CPD.reduce(reducer);
CAPTUYENDUONG.push(CAP);
ROUTEMAP.push(0);
console.log(ROUTEMAP);
console.log("CAPTUNGTUYENDUONG", CAPTUYENDUONG);
console.log(S.reduce(reducer));
/* console.log(DB.length);
  const SelectMin = ()=>{
   
  } */
/* console.log(Math.min(2, 3, 1)); */
/* let KC1 =Math.min(...DB.map(x=>x[0]));
  let ID =  DB.map(x=>x[0]).filter((x,KC1)=> x === KC1)
  console.log(KC1); */
